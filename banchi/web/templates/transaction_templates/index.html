{% extends '/base/default-dashboard.html' %}

{% block dashboard_title %}
Transaction Template
{% endblock %}

{% block breadcrumbs %}
{% if request.endpoint == 'transaction_templates.index' %}
<div class="section active">Transaction Templates</div>
{% else %}
<a href="{{ url_for('transaction_templates.index', account_id=request.args.get('account_id')) }}" class="section">Transaction
  Templates</a>
{% endif %}
{% endblock %}

{% block title %}
{% endblock %}

{% block content %}
  <div class="ui segment">
      <a class="ui button primary" href="{{ url_for('transaction_templates.add_or_edit', account_id=request.args.get('account_id')) }}">Create</a>
  </div>
  <div class="ui segment">
    <table class="ui table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Update By</th>
          <th>Update Date</th>

          <th>Tool</th>
        </tr>
      </thead>
      <tbody>
        {% for template in transaction_templates %}
        <tr>
          <td>{{ template.name }}</td>
          <td>{{ template.updated_by.first_name }} {{ template.updated_by.last_name }}</td>
          <td>{{ template.updated_date }}</td>
          <td>
            <a class="ui primary circular icon button"
              href="{{ url_for('transaction_templates.select_apply_date', transaction_template_id=template.id, account_id=template.account.id) }}">
              <i class="cog icon"></i>
            </a>
            <a class="ui yellow circular icon button"
              href="{{ url_for('transaction_templates.add_or_edit', transaction_template_id=template.id, account_id=template.account.id) }}">
              <i class="edit icon"></i>
            </a>


            <a class="ui red circular icon button" id="delete-transaction-template-{{ template.id }}">
              <i class="trash icon"></i>
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>  
  </div>
{% endblock %}
